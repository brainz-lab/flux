<% content_for(:title) { "Dev Tools" } %>

<div class="space-y-8">
  <div>
    <h1 class="text-[22px] font-semibold tracking-tight flux-text">Dev Tools</h1>
    <p class="mt-1 text-[13px] flux-text-muted">Development utilities and project information</p>
  </div>

  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <div class="px-5 py-4 rounded-xl flux-card">
      <p class="text-[12px] uppercase tracking-wide flux-text-muted">Events</p>
      <p class="mt-1 text-[24px] font-semibold flux-text"><%= number_with_delimiter(@stats[:events_count]) %></p>
    </div>
    <div class="px-5 py-4 rounded-xl flux-card">
      <p class="text-[12px] uppercase tracking-wide flux-text-muted">Metrics</p>
      <p class="mt-1 text-[24px] font-semibold flux-text"><%= number_with_delimiter(@stats[:metrics_count]) %></p>
    </div>
    <div class="px-5 py-4 rounded-xl flux-card">
      <p class="text-[12px] uppercase tracking-wide flux-text-muted">Dashboards</p>
      <p class="mt-1 text-[24px] font-semibold flux-text"><%= number_with_delimiter(@stats[:dashboards_count]) %></p>
    </div>
    <div class="px-5 py-4 rounded-xl flux-card">
      <p class="text-[12px] uppercase tracking-wide flux-text-muted">Anomalies</p>
      <p class="mt-1 text-[24px] font-semibold flux-text"><%= number_with_delimiter(@stats[:anomalies_count]) %></p>
    </div>
  </div>

  <div class="space-y-6">
    <div class="px-6 py-5 rounded-xl flux-card">
      <h2 class="text-[15px] font-medium mb-4 flux-text">Project Details</h2>
      <dl class="space-y-3">
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">Project ID</dt>
          <dd class="text-[13px] font-mono flux-text"><%= @project.id %></dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">Platform Project ID</dt>
          <dd class="text-[13px] font-mono flux-text"><%= @project.platform_project_id %></dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">Environment</dt>
          <dd class="text-[13px] flux-text"><%= @project.environment %></dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">API Key</dt>
          <dd class="text-[13px] font-mono flux-text"><%= @project.api_key %></dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">Ingest Key</dt>
          <dd class="text-[13px] font-mono flux-text"><%= @project.ingest_key %></dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">Retention Days</dt>
          <dd class="text-[13px] flux-text"><%= @project.retention_days %></dd>
        </div>
        <div class="flex justify-between">
          <dt class="text-[13px] flux-text-muted">Created</dt>
          <dd class="text-[13px] flux-text"><%= @project.created_at.strftime("%b %d, %Y %H:%M") %></dd>
        </div>
      </dl>
    </div>

    <div class="px-6 py-5 rounded-xl flux-card">
      <h2 class="text-[15px] font-medium mb-4 flux-text">Quick Test</h2>
      <p class="text-[13px] mb-3 flux-text-secondary">Test event ingestion with curl:</p>
      <pre class="p-4 rounded-lg text-[13px] overflow-x-auto flux-code"><code>curl -X POST <%= request.base_url %>/api/v1/events \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <%= @project.ingest_key %>" \
  -d '{
    "name": "test.event",
    "properties": { "source": "dev_tools" }
  }'</code></pre>
    </div>
  </div>
</div>
